<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emmanuel Alcalá">

<title>Contingencia e información en la explicación del comportamiento</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="dia_1_files/libs/clipboard/clipboard.min.js"></script>
<script src="dia_1_files/libs/quarto-html/quarto.js"></script>
<script src="dia_1_files/libs/quarto-html/popper.min.js"></script>
<script src="dia_1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dia_1_files/libs/quarto-html/anchor.min.js"></script>
<link href="dia_1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dia_1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="dia_1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dia_1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dia_1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Contingencia e información en la explicación del comportamiento</h1>
<p class="subtitle lead">Día 1. Teoría de la información</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Emmanuel Alcalá </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<section id="motivación" class="level1">
<h1>Motivación</h1>
<hr>
</section>
<section id="temas" class="level1">
<h1>Temas</h1>
<ol type="1">
<li>Preliminares</li>
<li>información y entropía</li>
</ol>
<hr>
</section>
<section id="preliminares" class="level1">
<h1>Preliminares</h1>
<section id="funciones" class="level2">
<h2 class="anchored" data-anchor-id="funciones">Funciones</h2>
<p>Las funciones tienen datos de entrada y datos de salida. Entre la entrada y la salida existe una transformación, que es lo que llamamos “función”. La función <span class="math inline">\(f(x)=y\)</span> se denota por</p>
<p><span class="math display">\[ f\colon X \mapsto Y \]</span></p>
<blockquote class="blockquote">
<p>la función <span class="math inline">\(f\)</span> mapea valores de <span class="math inline">\(X\)</span> (input) a <span class="math inline">\(Y\)</span> (output)</p>
</blockquote>
<p>Por ejemplo, la función <span class="math inline">\(y = 5x + 2\)</span> nos dice que por cada valor de <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> valdrá 5 veces <span class="math inline">\(x\)</span> más 2. Si <span class="math inline">\(x=({\color{red}1}, {\color{blue}2},{\color{green!60!black} 3})\)</span>, la función transforma a <span class="math inline">\(x\)</span> en la colección de valores</p>
<p><span class="math display">\[
y=({\color{red}1*5+2}, {\color{blue}2*5+2},{\color{green!60!black}3*5+2})
\]</span></p>
<p>En una tabla es más fácil de visualizar</p>
<hr>
</section>
<section id="operador-sigma" class="level2">
<h2 class="anchored" data-anchor-id="operador-sigma">Operador <span class="math inline">\(\Sigma\)</span></h2>
<p><span class="math inline">\(\Sigma\)</span> - Suma de <span class="math inline">\(i\)</span> elementos hasta <span class="math inline">\(n\)</span>, donde <span class="math inline">\(i\)</span> el índice de sumación</p>
<p><span class="math display">\[
\sum_{i=m}^n x_i=x_1 + x_2 + \dots + x_n
\]</span></p>
<p>Donde <span class="math inline">\(m\)</span> es el límite inferior de la suma, y <span class="math inline">\(n\)</span> el límite superior de la suma. </p>
<p>Ejemplo: sumar los valores de <span class="math inline">\(x\)</span> del 1 al 4</p>
<p><span class="math display">\[\begin{align*}
  x &amp;= \{{\color{red}1_{[1]}}, {\color{blue}8_{[2]}}, {\color{orange}3_{[3]}}, 5_{[4]} \}\\
\sum_{i=2}^{4} &amp;= {\color{blue}8} + {\color{orange}3} + 5 = 10
\end{align*}\]</span></p>
<p>En corchete coloco <em>el orden</em> (el índice) del elemento</p>
<hr>
</section>
<section id="conjuntos-brevísima" class="level2">
<h2 class="anchored" data-anchor-id="conjuntos-brevísima">Conjuntos (brevísima)</h2>
<p>Un conjunto es una colección de distintos objetos. <span class="math inline">\(A\)</span> es un subconjunto de <span class="math inline">\(B\)</span> si todo elemento de <span class="math inline">\(A\)</span> es también incluido en <span class="math inline">\(B\)</span>, que se simboliza como <span class="math inline">\(A \subset B\)</span>.</p>
<ul>
<li><p>El conjunto vacío, denotado <span class="math inline">\(\emptyset\)</span>, es el conjunto que no contiene nada.</p></li>
<li><p>Denotamos por <span class="math inline">\(|S|\)</span> a la cardinalidad (maomeno ) de <span class="math inline">\(S\)</span>. Por ejemplo, <span class="math inline">\(|\emptyset|=0\)</span>.</p></li>
<li><p><span class="math inline">\(x \in A\)</span> es “<span class="math inline">\(x\)</span> es un miembro del conjunto <span class="math inline">\(A\)</span>”. En probabilidad, los eventos se tratan como conjuntos de valores. Si lanzas una moneda 10 veces, el evento “veces que cae águila” es un conjunto de valores.</p></li>
</ul>
<hr>
</section>
<section id="probabilidad" class="level2">
<h2 class="anchored" data-anchor-id="probabilidad">Probabilidad</h2>
<p>Si todos los resultados son igualmente posibles, la probabilidad de <span class="math inline">\(A\)</span></p>
<p><span class="math display">\[
\Pr_{\textrm{naïve}}(A) = \frac{\textnormal{veces que sale } A}{\textnormal{total de resultados (i.e., } A \cup A^c)} = \frac{|A|}{|S|}
\]</span></p>
<p>Donde por <span class="math inline">\(|\cdot|\)</span> entendemos la <em>cardinalidad</em>, o el número de elementos.</p>
<p>Existen diferentes interpretaciones de la probabilidad. La más usada, la frecuentista, la define formalmente como el valor límite de <span class="math inline">\(\Pr(A)\)</span> cuando <span class="math inline">\(|S|\)</span> tiende a infinito. </p>
<p>Por ejemplo, la probabilidad de obtener caras al lanzar una moneda es el límite de</p>
<p><span class="math display">\[\Pr(caras)=\frac{\#caras}{N}\]</span></p>
<p>cuando el número de lanzamientos <span class="math inline">\(N\rightarrow \infty\)</span>.</p>
<hr>
<section id="variables-y-espacios" class="level3">
<h3 class="anchored" data-anchor-id="variables-y-espacios">Variables y espacios:</h3>
<p><strong>Variable aleatoria</strong>: es una función que mapea los resultados de un experimento aleatorio al conjunto de los números reales (comúnmente). Se suele representar con letra mayúscula (e.g., <span class="math inline">\(X\)</span>).</p>
<p>Existen variables aleatorias discretas (sus valores son finitos o infinitos contables, como <span class="math inline">\((0, 1, 2, ...)\)</span>), y continuas (sus valores son infinitos no contables).</p>
<p><strong>Espacio muestral</strong>: El conjunto de todos los resultados posibles. Se suele representar con <span class="math inline">\(\Omega\)</span>. De este conjunto la <span class="math inline">\(X\)</span> mapea a los reales: <span class="math inline">\(X\colon \Omega \rightarrow \mathbb R\)</span>. Es decir, a cada elemento de <span class="math inline">\(\Omega\)</span> asigna un número real, <span class="math inline">\(X(\omega)\)</span>.</p>
<p><strong>Evento</strong>: Subconjunto de <span class="math inline">\(\Omega\)</span>, usualmente representado por una vocal mayúscula, e.g., <span class="math inline">\(A\)</span>. Si lanzamos una moneda dos veces, <span class="math inline">\(\Omega = \{HH,HT,TT,TH\}\)</span>. El evento ``la primera moneda cae H’’ es <span class="math inline">\(A=\{HH,HT\}\)</span>.</p>
<hr>
<p>Algunas propiedades de <span class="math inline">\(\Pr\)</span> son:</p>
<ol type="1">
<li><span class="math inline">\(0\leq \Pr(A) \leq 1\)</span> y <span class="math inline">\(\sum \Pr(A) = 1\)</span></li>
<li>Si <span class="math inline">\(\emptyset\)</span> es un conjunto nulo, entonces <span class="math inline">\(\Pr(\emptyset)=0\)</span>.</li>
<li>Si <span class="math inline">\(A \subset B\)</span>, entonces <span class="math inline">\(\Pr(A)\leq \Pr(B)\)</span>.</li>
<li>Si <span class="math inline">\(A^c\)</span> denota el complemento de <span class="math inline">\(A\)</span>, entonces <span class="math inline">\(\Pr(A^c)=1-\Pr(A)\)</span>.</li>
<li>Si <span class="math inline">\(A \cap B = \emptyset\)</span> denota la intersección nula de <span class="math inline">\(A\)</span> y <span class="math inline">\(B\)</span>, entonces <span class="math inline">\(\Pr(A \cup B)=\Pr(A) + \Pr(B)\)</span>, <span class="math inline">\(\Pr\)</span> es aditiva para eventos disjuntos.</li>
<li>De otra manera, para eventos arbitrarios <span class="math inline">\(A, B\)</span>, <span class="math inline">\(\Pr(A \cup B)=\Pr(A) + \Pr(B)-\Pr(A\cap B)\)</span>.</li>
<li>Dos eventos <span class="math inline">\(A\)</span> y <span class="math inline">\(B\)</span> son independientes si <span class="math inline">\(\Pr(A \cup B)=\Pr(A)\Pr(B)\)</span>.</li>
</ol>
<hr>
</section>
<section id="reglas" class="level3">
<h3 class="anchored" data-anchor-id="reglas">Reglas</h3>
<ol type="1">
<li><span class="math inline">\(p(x_2, y_1) = \frac{n_{21}}{N}\)</span> (probabilidad conjunta de <span class="math inline">\(x_2\)</span> y <span class="math inline">\(y_1\)</span>).</li>
<li><span class="math inline">\(c_i=\sum_{j=1}^3n_{ij}\)</span> (suma de todos los <span class="math inline">\(n_{ij}\)</span> con <span class="math inline">\(i\)</span> fijo).</li>
<li><span class="math inline">\(p(x_i) = \frac{c_i}{N}=\sum_{j=1}^5p(x_i, y_j)\)</span> (probabilidad marginal de <span class="math inline">\(x_i\)</span>; <strong>regla de la suma</strong>).</li>
<li><span class="math inline">\(p(y_j | x_i) = \frac{n_{ij}}{c_i}\)</span> (probabilidad condicional de <span class="math inline">\(y_j\)</span> <em>dado</em> que <span class="math inline">\(x_i\)</span> ocurrió).</li>
<li><span class="math inline">\(p(x_i, y_i) = \frac{n_{ij}}{N} = \frac{n_{ij}}{c_i} \frac{c_i}{N} = p(y_j | x_i)p(x_i)\)</span> (<strong>regla del producto</strong>)</li>
</ol>
<hr>
</section>
</section>
<section id="operador-esperanza-textex" class="level2">
<h2 class="anchored" data-anchor-id="operador-esperanza-textex">Operador esperanza <span class="math inline">\(\text{E}[X]\)</span></h2>
<p>Valor esperado - (a.k.a. <em>media</em>, <em>esperanza</em>, o <em>promedio</em>) es una suma ponderada de los posibles resultados de nuestra variable aleatoria. Matemáticamente, si <span class="math inline">\(x_1, x_2, x_3, \dots\)</span> son todas distintos posibles valores que <span class="math inline">\(X\)</span> puede tomar, el valor esperado de <span class="math inline">\(X\)</span> es</p>
<p><span class="math display">\[\begin{align*}
  \text{E}[X] &amp; = \sum\limits_i x_i p(X=x_i), \text{ si $x$ es discreta} \\
  \text{E}[X] &amp; = \int_{\mathbb R} xf(x)dx, \text{ si $x$ es continua}  
\end{align*}\]</span></p>
<p>La multiplicación <span class="math inline">\(x_ip(X=x_i)\)</span> es el valor de <span class="math inline">\(x_i\)</span> por la probabilidad de que <span class="math inline">\(x_i\)</span> ocurra.</p>
<p>Por brevedad, podemos simplemente escribir <span class="math inline">\(p(x_i)\)</span> para el caso discreto. Para el caso continuo, <span class="math inline">\(f(x)\)</span> denota la función de densidad de probabilidad.</p>
<hr>
<p>Si tenemos <span class="math inline">\(n\)</span> datos, todos con la misma probabilidad de ser tomados por <span class="math inline">\(X\)</span>, entonces la esperanza es simplemente la media aritmética:</p>
<p><span class="math inline">\(\text{E}[X] = \frac{1}{n}\sum\limits_{i}x_i\)</span></p>
<p>Con <span class="math inline">\(p(x_1)=p(x_2)=...=p(x_n)=1/n\)</span>. Por ejemplo, si <span class="math inline">\(X = (1, 5, 9, 10)\)</span>, todos con probabilidad <span class="math inline">\(p(x)=1/4\)</span>,</p>
<p><span class="math inline">\(\text{E}[X] = \frac{1}{n}\sum\limits_{i}x_i = \frac{1}{4}\times(1 + 5 + 9 + 10)\)</span></p>
<hr>
</section>
<section id="propiedades-de-los-logaritmos" class="level2">
<h2 class="anchored" data-anchor-id="propiedades-de-los-logaritmos">Propiedades de los logaritmos</h2>
<p>Los logaritmos solo están definidos para los números reales</p>
<p><span class="math display">\[
\log_b(x) = a, \forall x \in\mathbb{R} &gt; 0
\]</span></p>
<p>Que se lee ``para todos los <span class="math inline">\(x\)</span> del conjunto <span class="math inline">\(\mathbb{R}\)</span> mayores que 0”.</p>
<p>Un logaritmo se puede definir como el valor al que hay que elevar la base <span class="math inline">\(b\)</span> para obtener <span class="math inline">\(x\)</span>.</p>
<p>Por ejemplo, <span class="math inline">\(\log_2(16)=4\)</span> (‘4 es el logaritmo base 2 de 16’). Por lo tanto, para obtener 16 de nuevo elevamos 2 a la cuarta, <span class="math inline">\(2^4=16\)</span>.</p>
<hr>
<p><strong>Propiedad 1</strong> <span class="math inline">\(log_b (x\times y) = \log_b(x) + \log_b(y)\)</span></p>
<p>En palabras, esto significa que el logaritmo base <span class="math inline">\(b\)</span> del producto de dos números es igual a la suma de los logaritmos de esos números.</p>
<hr>
<p><strong>Propiedad 2</strong> <span class="math inline">\(\log_b ( \frac{x}{y}) = \log_b(x) - \log_b(y)\)</span></p>
<p>Esta propiedad es simplemente la operación inversa de la . Esta propiedad permite expresar las razones (o proporciones) en términos de diferencias.</p>
<p>Si, por ejemplo, <span class="math inline">\(x&gt;y\)</span>, el rango de valores que puede tomar <span class="math inline">\(x/y\)</span> va desde 1 a infinito. Por otro lado, si <span class="math inline">\(x\leq y\)</span>, el rango de valores está entre 0 y 1. Las razones no son funciones simétricas.</p>
<p>Los logaritmos sí. Si <span class="math inline">\(x&gt;y\)</span>, <span class="math inline">\(\log_b(x/y) &gt; 1\)</span>, si <span class="math inline">\(x&lt;y\)</span>, <span class="math inline">\(\log_b(x/y)&lt;0\)</span>. Si <span class="math inline">\(x=y\)</span>, <span class="math inline">\(\log_b(x/y)=0\)</span>. El último resultado implica que <span class="math inline">\(\log_b(1)=0\)</span></p>
<hr>
<p><strong>Propiedad 3</strong> <span class="math inline">\(\log_b (x^a) = a \log_b (x)\)</span></p>
<p>Esto se sigue de la . Supongamos que <span class="math inline">\(a = 3\)</span>, entonces <span class="math inline">\(\log_b (x^a) = \log_b (x^3) = \log_b (x \times x \times x)\)</span>, lo que es lo mismo a escribir <span class="math inline">\(\log_b (x) + \log_b (x) + \log_b (x)\)</span>, y dado que <span class="math inline">\(\log_b (x)\)</span> se repite 3 veces, la expresión <span class="math inline">\(\log_b (x) + \log_b (x) + \log_b (x)\)</span> es igual a <span class="math inline">\(3\log_b (x)\)</span>.</p>
<hr>
<p><strong>Propiedad 4</strong> Si <span class="math inline">\(x &lt; y\)</span>, <span class="math inline">\(\log_b(x) &lt; \log_b(y)\)</span>.</p>
<p>En palabras, esto significa que el <span class="math inline">\(\log_b(x)\)</span> es una función monotónica y estrictamente creciente de <span class="math inline">\(x\)</span>: si <span class="math inline">\(x\)</span> crece, <span class="math inline">\(\log_b(x)\)</span> también crece.</p>
<hr>
<section id="interludio-ejercicios" class="level3">
<h3 class="anchored" data-anchor-id="interludio-ejercicios">Interludio: ejercicios</h3>
<ol type="1">
<li><p>Suponiendo que lanzar dos veces una moneda <em>justa</em> son eventos independientes, ¿cuál es la probabilidad de obtener dos caras? Es decir, <span class="math inline">\(p(x_1=cara \cap x_2 = cara)\)</span>. Hint: la probabilidad de una sola cara es <span class="math inline">\(p(cara)=1/2\)</span>.</p></li>
<li></li>
</ol>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<ul>
<li><p>¿Cuál es la probabilidad <span class="math inline">\(p(y_1, x_1)\)</span>?</p></li>
<li><p>¿Cuál es la probabilidad <span class="math inline">\(p(y_1)\)</span>?</p></li>
<li><p>¿Cuál es la probabilidad <span class="math inline">\(p(x_1 | y_1)\)</span>?</p></li>
</ul>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="información-y-entropía" class="level1">
<h1>Información y entropía</h1>
<p>Usualmente, por <em>información</em> nos referimos coloquialmente a la cantidad de datos que son guardados, enviados, recibidos o manipulados por algún medio.</p>
<div class="incremental">
<p>Otra forma de concebir la información es como reducción de incertidumbre.</p>
</div>
<div class="incremental">
<p>Por ejemplo, antes de leer un libro su contenido es desconocido. En ese sentido, nuestra incertidumbre es alta. La primera vez que lo leemos, esa incertidumbre con respecto al contenido disminuye y, al mismo tiempo, podríamos decir que ganamos información.</p>
<hr>
<section id="contenido-de-información" class="level2">
<h2 class="anchored" data-anchor-id="contenido-de-información">Contenido de información</h2>
<p>La noción de información que necesitamos debe tener dos propiedades deseables:</p>
<div class="incremental">
<ul class="incremental">
<li>La información debe ser extensiva y aditiva. La combinación de dos conjuntos de información con la misma cantidad duplican la información.</li>
<li>La información reduce la incertidumbre. La cantidad de información es una función monotónica estrictamente decreciente de la incertidumbre de un evento. Cuanto más probable es un evento, menos información conlleva; cuanto menos probable, más información conlleva.</li>
</ul>
</div>
<div class="incremental">
<p>La única función que satisface esos dos requerimientos es</p>
<p><span class="math display">\[
  I(x) = -\log_b(p(x)) =  \log_b\frac{1}{p(x)}
\]</span></p>
<hr>
<div class="cell" data-execution_count="1">
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_1213938/1048902983.py:6: RuntimeWarning:

divide by zero encountered in log
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dia_1_files/figure-html/cell-2-output-2.png" width="285" height="208" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>